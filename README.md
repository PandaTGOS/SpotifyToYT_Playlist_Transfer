# Spotify to YouTube Music Playlist Converter

A Python script to transfer your Spotify playlists to YouTube Music. It uses the Spotify API to fetch playlist details and the YouTube Music API (`ytmusicapi`) to create and populate playlists on YouTube Music. This script requires you to authenticate with your own YouTube Music account using OAuth.

## Prerequisites

*   Python 3.7+
*   pip (Python package installer)
*   A modern web browser (for YouTube Music authentication)

## Setup Instructions

### 1. Clone the Repository:
```bash
git clone <repository_url> # Replace <repository_url> with the actual URL
cd <repository_directory_name>
```

### 2. Create and Activate a Virtual Environment (Recommended):
```bash
# For Windows
python -m venv venv
.\venv\Scripts\activate

# For macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

### 3. Install Dependencies:
```bash
pip install -r requirements.txt
```

### 4. Set Up Environment Variables:
Create a file named `.env` in the root of the project directory. This file will store your API credentials.
Add the following lines to the `.env` file, replacing the placeholder values with your actual credentials:

```env
SPOTIFY_CLIENT_ID="YOUR_SPOTIFY_CLIENT_ID"
SPOTIFY_CLIENT_SECRET="YOUR_SPOTIFY_CLIENT_SECRET"
GOOGLE_CLIENT_ID="YOUR_GOOGLE_CLIENT_ID"
GOOGLE_CLIENT_SECRET="YOUR_GOOGLE_CLIENT_SECRET"
```

### 5. Spotify API Credentials:
*   Go to the [Spotify Developer Dashboard](https://developer.spotify.com/dashboard/).
*   Log in or create an account.
*   Click on "Create an App" (or "Create app").
*   Fill in the app name and description (e.g., "Spotify to YTMusic Transfer").
*   Agree to the terms.
*   Once the app is created, you will see your `Client ID`. Click on "Show client secret" to see your `Client Secret`.
*   Copy these values into the `SPOTIFY_CLIENT_ID` and `SPOTIFY_CLIENT_SECRET` fields in your `.env` file.
*   In the app settings on the Spotify Developer Dashboard, you might need to add a "Redirect URI". For this script, it's not directly used for authentication, but Spotify might require one (e.g., `http://localhost:8888/callback`).

### 6. YouTube Music API (Google Cloud) Credentials:
*   Go to the [Google Cloud Console](https://console.cloud.google.com/).
*   Create a new project or select an existing one.
*   In the navigation menu, go to "APIs & Services" > "Library".
*   Search for "YouTube Data API v3" and enable it for your project.
*   Go to "APIs & Services" > "Credentials".
*   Click on "+ CREATE CREDENTIALS" and select "OAuth client ID".
*   If prompted, configure the "OAuth consent screen":
    *   Choose "External" for User Type.
    *   Fill in the App name (e.g., "YTMusic Playlist Tool"), User support email, and developer contact information.
    *   You can skip "Scopes" for now.
    *   Add your email to "Test users" during development/testing, otherwise your app will be available to any Google user and will require verification by Google.
    *   Save and continue.
*   For the "Application type", select "TVs and Limited Input devices".
*   Give the client ID a name (e.g., "YTMusic CLI Access").
*   Click "Create".
*   A window will pop up showing your `Client ID` and `Client secret`. Copy these values into the `GOOGLE_CLIENT_ID` and `GOOGLE_CLIENT_SECRET` fields in your `.env` file.

### 7. Initial YouTube Music Authentication:
*   This application uses `ytmusicapi` to interact with YouTube Music, which requires you to authenticate your account.
*   Open your terminal or command prompt (ensure your virtual environment is activated and you are in the project directory).
*   Run the following command:
    ```bash
    ytmusicapi oauth
    ```
*   This command will display a URL and a code.
*   Open the URL in your web browser. You'll be asked to log in to your Google account and grant permissions.
*   After granting permissions, you will be redirected to a page, but `ytmusicapi` handles the token retrieval via the device flow. The terminal running `ytmusicapi oauth` should detect the authorization and complete.
*   This process will create a file named `oauth.json` in your project directory. This file contains the necessary tokens for the script to access your YouTube Music account. **Do not share this file.**

## Running the Application:
*   Ensure your virtual environment is activated and all environment variables are correctly set in the `.env` file.
*   Make sure the `oauth.json` file has been generated by running `ytmusicapi oauth`.
*   Run the script using:
    ```bash
    python main.py
    ```
*   The script will first check for `oauth.json` and your Google API credentials.
*   If everything is set up correctly, it will then attempt to get a Spotify token.
*   You will be prompted to "Paste spotify link here: ". Paste the full URL of the Spotify playlist you want to transfer.
*   The script will then create a new playlist on your YouTube Music account (named after the Spotify playlist) and attempt to add each song.

## Environment Variables Summary:

| Variable              | Description                                   | Example Value                      |
| --------------------- | --------------------------------------------- | ---------------------------------- |
| `SPOTIFY_CLIENT_ID`   | Your Spotify application Client ID.           | `your_spotify_client_id_here`      |
| `SPOTIFY_CLIENT_SECRET` | Your Spotify application Client Secret.       | `your_spotify_client_secret_here`  |
| `GOOGLE_CLIENT_ID`    | Your Google Cloud OAuth Client ID.            | `your_google_client_id_here.apps.googleusercontent.com` |
| `GOOGLE_CLIENT_SECRET`| Your Google Cloud OAuth Client Secret.        | `your_google_client_secret_here`   |

## Troubleshooting

*   **`ModuleNotFoundError`**: Ensure you have activated your virtual environment and run `pip install -r requirements.txt`.
*   **Spotify 401/403 Errors**: Double-check your `SPOTIFY_CLIENT_ID` and `SPOTIFY_CLIENT_SECRET`. Ensure the Spotify app is created correctly.
*   **YouTube Music Errors / No `oauth.json`**: Make sure you have run `ytmusicapi oauth` successfully and that `oauth.json` is in the same directory as `main.py`. Also, verify `GOOGLE_CLIENT_ID` and `GOOGLE_CLIENT_SECRET` are correctly set in your `.env` file. Ensure the YouTube Data API v3 is enabled in your Google Cloud project.
*   **Songs not found/added**: The script searches for "song name by artist official audio". Some songs might not be available on YouTube Music or might have slightly different naming conventions.
